<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Car Dashboard</title>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Link stylesheet -->
    <link
      rel="stylesheet"
      type="text/css"
      href="{{ url_for('static', filename='styles2.css')}}"
    />

    <!-- style for putting divs in rows -->
    <!-- old width 540px -->
    <!-- height: 50; -->
    <!-- margin:50px; -->
    <!-- padding:10px; under .container .box .box-cell-->
    <style> 
      .menubar {
        width: 100%;
        height: 10%;
      }
      .menu{
        margin: 1em;
        width: 40px;
      }
      .menu:after,
      .menu:before,
      .menu div {
        background-color:#fff;
        border-radius: 3px;
        content: '';
        display: block;
        height: 5px;
        margin: 7px 0;
        transition: all .2s ease-in-out;
      }
      /* Move the upper bar */
      .menu:hover:before {
        transform: translateY(12px) rotate(135deg);
      }
      /* Move the lower bar */
      .menu:hover:after {
        transform: translateY(-12px) rotate(-135deg);
      }
      /* Make the mid bar fade out */
      .menu:hover div {
        transform: scale(0);
      }
      .container .box { 
          width: 100%; 
          height: 90%;
          display:table; 
      } 
      .container .box .box-row { 
          display:table-row; 
      } 
      .container .box .box-cell { 
          display:table-cell; 
          width:33%; 
          padding:10px; 
      } 
      .container .box .box-cell.box1 { 
          border: 2px solid white; 
          text-align:justify; 
      } 
      .container .box .box-cell.box2 { 
          border: 2px solid white; 
          text-align:justify 
      } 
      .container .box .box-cell.box3 { 
          border: 2px solid white;
          text-align:justify; 
      }

      #wrap {
        display: flex;
        justify-content: center;
      }

      #left, #right {
        padding: 2%;
      }
    </style>

    <!-- Necessary script for running jQuery. Which we use for AJAX -->
    <script src="{{ url_for('static', filename='jquery-3.6.0.min.js') }}"></script>

    <!-- Necessary script for fetching sensor data from python server -->
    <script src="{{ url_for('static', filename='dashboard.js') }}"></script>

    <!-- font import -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&family=Racing+Sans+One&display=swap" rel="stylesheet">
  </head>

  <!-- html script start -->
  <!-- test to center align -->
  <body style = "background-color: #0B101F;">
    <div class = "container">
      <div class="menubar">
        <div class="menu"></div>
      </div>
      <div class = "box">
        <!-- first row -->
        <div class = "box-row">
          <div class = "box-cell box1">
              <h1 style="color:white; font-family: 'Poppins', sans-serif; text-align:center;  font-size: 24px;">Temperature</h1>
              <div id = "wrap">
                <div id="left">
                  <p id="temperature" style="color:white; font-family: 'Racing Sans One', cursive; text-align:center;font-size: 54px;"></p>
                </div>
                <div id="right" style="margin-top: 50px;">
                  <p style="color:white; font-family: 'Poppins', cursive; text-align:center;font-size: 17px;">&#176C</p>
                  <img id="temp_picture" src="{{url_for('static', filename='Green_Temp_Icon.png')}}" alt="temperature picture" style="width:21px;height:42px;">
                </div>
              </div>
          </div>
          <div class = "box-cell box2">
            <h1 style="color:white; font-family: 'Poppins', sans-serif;text-align:center; font-size: 24px;">Distance</h1>
            <div id = "wrap">
              <div id="left">
                <p id="mileage" style="color:white; font-family: 'Racing Sans One', cursive;text-align:center;font-size: 54px;"></p>
              </div>
              <div id="right" style="margin-top: 67px;">
                <p style="color:white; font-family: 'Poppins', cursive; text-align:center;font-size: 17px;">mi</p>
              </div>
            </div>
          </div>
          <div class = "box-cell box3">
            <h1 style="color:white; font-family: 'Poppins', sans-serif; text-align:center; font-size: 24px;">Accumulator Charge</h1>
            <div id = "wrap">
              <div id="left">
                <p id="voltage" style="color:white; font-family: 'Racing Sans One', cursive; text-align:center;font-size: 54px;"></p>
              </div>
              <div id="right" style="margin-top: 67px;">
                <p style="color:white; font-family: 'Poppins', sans-serif; font-size: 17px;">%</p>
                <img id="battery_picture" src="{{url_for('static', filename='Green_Battery_Icon.png')}}" alt="battery picture" style="width:21px;height:42px;">
              </div>
            </div>
            
          </div>
        </div>

        <!-- end first row -->
        <!-- second row -->
        <div class = "box-row">
          <div class = "box-cell box1">
            <h1 style="color:white; font-family: 'Poppins', sans-serif; text-align:center; font-size: 24px;">Velocity</h1>
            <div id = "wrap">
              <div id="left">
                <p id="speed" style="color:white; font-family: 'Racing Sans One', cursive; font-size: 54px;"></p>
              </div>
              <div id="right" style="margin-top: 67px;">
                <p style="color:white; font-family: 'Poppins', sans-serif; font-size: 17px;">mph</p>
              </div>
            </div>
          </div>
          <div class = "box-cell box2">
            <h1 style="color:white; font-family: 'Poppins', sans-serif;text-align:center; font-size: 24px;">Acceleration</h1>
            <div id = "wrap">
              <div id="left">
                <p id="acceleration" style="color:white; font-family: 'Racing Sans One', cursive;text-align:center; font-size: 54px;"></p>
              </div>
              <div id="right" style="margin-top: 67px;">
                <p style="color:white; font-family: 'Poppins', cursive;text-align:center; font-size: 17px;">m/s&#178</p>
              </div>
            </div>
          </div>
          <div class = "box-cell box3" style="text-align:center">
            <h1  style="color:white; font-family: 'Poppins', sans-serif;text-align:center; font-size: 24px;"> Efficiency </h1>
            <div id = "wrap">
              <div id="left">
                <p id="efficiency" style="color:white; font-family: 'Racing Sans One', cursive;text-align:center; font-size: 54px;"></p>
              </div>
              <div id="right" style="margin-top: 67px;">
                <p style="color:white; font-family: 'Poppins', cursive;text-align:center; font-size: 17px;">%</p>
              </div>
            </div>
            <a href="/restart" style= "text-align: center;"> <img src="{{url_for('static', filename='Restart Button.png')}}"/> </a>
            <!--"Restart Button.png" -->
          </div>
        </div>
        <!-- end second row -->
      </div>
    </div>

    <script>
      let x = 4;
      let volt = document.getElementById("voltage");
      const event_temp = new Event("start_temp");
      const event_battery = new Event("start_battery");

      document.addEventListener('start_temp', changePicTemp);
      document.addEventListener('start_battery', changePicBattery);

      function changePicTemp(){
        document.getElementById("temp_picture").src = "Red_Temp_Icon.png"
      }

      function changePicBattery(){
        document.getElementById("battery_picture").src = "Red_Battery_Icon.png"
      }

      if (volt > 5){
        document.dispatchEvent(event_temp);
        document.dispatchEvent(event_battery);
      }
    </script>
 </body>

</html>


<!-- manual center -->
<!-- <div style="float: left; margin:0px;margin-left: 25%">
        <p style="color:white; font-family: 'Racing Sans One', cursive; font-size: 50px;">2.54</p>
      </div>
      <div style="float: left; margin:0px; margin-top: 67px; margin-left:3px;">
        <p style="color:white; font-family: 'Poppins', sans-serif; font-size: 15px;">mph</p>
      </div>
-->