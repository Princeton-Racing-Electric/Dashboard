<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Necessary script for running jQuery. Which we use for AJAX -->
    <script src="{{ url_for('static', filename='jquery-3.6.0.min.js') }}"></script>

    <title>Document</title>
  </head>
  <body>
    <h1>Hello There</h1>
    <h3>Current Count: <span id="count"></span></h3>
    <h3>Current Time: <span id="time"></span></h3>

    <!-- JS script that sets an interval and uses jQuery to repeatedly
    request data from the server. This might also be possible to do with
    just the fetch API, so we could look into that also? -->
    <script>
      setInterval(function () {
        $.ajax({
          url: "/update",
          type: "POST",
          success: function (response) {
            console.log(response);
            $("#count").html(response["value"]);
            $("#time").html(response["time"]);
          },
          error: function (error) {
            console.log(error);
          },
        });
      }, 1000);
    </script>
  </body>
</html>
